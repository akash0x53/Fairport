<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fairport: fairport::heap Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Fairport
   &#160;<span id="projectnumber">v1.0.21</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classfairport_1_1heap.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">fairport::heap Class Reference<div class="ingroups"><a class="el" href="group__ltp__heaprelated.html">Heap</a></div></div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="fairport::heap" -->
<p>Heap-on-Node implementation.  
 <a href="classfairport_1_1heap.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="heap_8h_source.html">heap.h</a>&gt;</code></p>

<p><a href="classfairport_1_1heap-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a68c704b4822d665eabf8ba7108cc250a">heap</a> (const <a class="el" href="classfairport_1_1node.html">node</a> &amp;n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a heap object on a node.  <a href="#a68c704b4822d665eabf8ba7108cc250a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a86f1100959320843feaf275cd8e0dba9">heap</a> (const <a class="el" href="classfairport_1_1node.html">node</a> &amp;n, <a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> client_sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a heap object on the specified node, and validate the client sig.  <a href="#a86f1100959320843feaf275cd8e0dba9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a23a68415ae428f8e4cb7dc732a71dade">heap</a> (const <a class="el" href="classfairport_1_1heap.html">heap</a> &amp;other)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#a23a68415ae428f8e4cb7dc732a71dade"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#abb38758ffaba69d0e82ca836aec1b6c3">heap</a> (<a class="el" href="classfairport_1_1heap.html">heap</a> &amp;&amp;other)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="#abb38758ffaba69d0e82ca836aec1b6c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a45c86226acf62eb79adc57888dce0b83">size</a> (<a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a99c931c2fa61356d33ffd14b6320ad4e">get_root_id</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a50f1f02b316d755509690f05ddea3045">get_client_signature</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a1052e2cb99c6361d015926b26ca80626">read</a> (std::vector&lt; <a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> &gt; &amp;buffer, <a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> id, <a class="el" href="group__primitive.html#ga9c2e24b05ccdb102ad090c7c08aec439">ulong</a> offset) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a3b9678296518c95de21c517bf820afa1">read</a> (<a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> id) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfairport_1_1hid__stream__device.html">hid_stream_device</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a1bc086ac19924f642c35ab655a1ff903">open_stream</a> (<a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classfairport_1_1node.html">node</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a40533a381ff79af5ad3b1c2f31b326a7">get_node</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfairport_1_1node.html">node</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a7aee83574e4916bec3e76142a60fefea">get_node</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename K , typename V &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">std::tr1::shared_ptr&lt; <a class="el" href="classfairport_1_1bth__node.html">bth_node</a><br class="typebreak"/>
&lt; K, V &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classfairport_1_1heap.html#a0200758dfbe60ab49b2aaa4336c6ba64">open_bth</a> (<a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> root)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Heap-on-Node implementation. </p>
<p>The HN is the first concept built on top of the <a class="el" href="classfairport_1_1node.html">node</a> abstraction exposed by the NDB. It treats the node similar to how a memory heap is treated, allowing the client to allocate memory up to 3.8k and free those allocations from inside the node. To faciliate this, metadata is kept at the start and end of each block in the HN node (which are confusingly sometimes called pages in this context). So the HN has detailed knowledge of how blocks and extended_blocks work in order to do it's book keeping, and find the appropriate block (..page) to satisfy a given allocation request.</p>
<p>Note a heap completely controls a node - you can not have multiple heaps per node. You can not use a node which has a heap on it for any other purpose beyond the heap interface. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>[MS-PST 2.3.1] </dd></dl>

<p>Definition at line <a class="el" href="heap_8h_source.html#l00195">195</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a68c704b4822d665eabf8ba7108cc250a"></a><!-- doxytag: member="fairport::heap::heap" ref="a68c704b4822d665eabf8ba7108cc250a" args="(const node &amp;n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fairport::heap::heap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfairport_1_1node.html">node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td><code> [inline, explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open a heap object on a node. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The node to open on top of. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="heap_8h_source.html#l00200">200</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a86f1100959320843feaf275cd8e0dba9"></a><!-- doxytag: member="fairport::heap::heap" ref="a86f1100959320843feaf275cd8e0dba9" args="(const node &amp;n, byte client_sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fairport::heap::heap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfairport_1_1node.html">node</a> &amp;&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a>&#160;</td>
          <td class="paramname"><em>client_sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open a heap object on the specified node, and validate the client sig. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classfairport_1_1sig__mismatch.html" title="An unexpected signature was encountered.">sig_mismatch</a></td><td>If the specified client_sig doesn't match what is in the node </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>The node to open on top of. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">client_sig</td><td>Validate the heap has this value for the client sig </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="heap_8h_source.html#l00206">206</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a23a68415ae428f8e4cb7dc732a71dade"></a><!-- doxytag: member="fairport::heap::heap" ref="a23a68415ae428f8e4cb7dc732a71dade" args="(const heap &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fairport::heap::heap </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfairport_1_1heap.html">heap</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">other</td><td>The heap to copy </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="heap_8h_source.html#l00210">210</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="abb38758ffaba69d0e82ca836aec1b6c3"></a><!-- doxytag: member="fairport::heap::heap" ref="abb38758ffaba69d0e82ca836aec1b6c3" args="(heap &amp;&amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fairport::heap::heap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfairport_1_1heap.html">heap</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">other</td><td>The heap to move from </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="heap_8h_source.html#l00216">216</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a50f1f02b316d755509690f05ddea3045"></a><!-- doxytag: member="fairport::heap::get_client_signature" ref="a50f1f02b316d755509690f05ddea3045" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> fairport::heap::get_client_signature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the client signature of the heap. </p>
<p>Each heap is stamped with a signature byte by it's creator. This value is used mostly for validation purposes by the client when opening the heap. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>heap_client_signature returns The client sig <a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00227">227</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40533a381ff79af5ad3b1c2f31b326a7"></a><!-- doxytag: member="fairport::heap::get_node" ref="a40533a381ff79af5ad3b1c2f31b326a7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classfairport_1_1node.html">node</a>&amp; fairport::heap::get_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the node underlying this heap. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The node </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00240">240</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7aee83574e4916bec3e76142a60fefea"></a><!-- doxytag: member="fairport::heap::get_node" ref="a7aee83574e4916bec3e76142a60fefea" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfairport_1_1node.html">node</a>&amp; fairport::heap::get_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the node underlying this heap. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The node </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00243">243</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a99c931c2fa61356d33ffd14b6320ad4e"></a><!-- doxytag: member="fairport::heap::get_root_id" ref="a99c931c2fa61356d33ffd14b6320ad4e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a> fairport::heap::get_root_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the client root allocation out of this heap. </p>
<p>This value has specific meaning to the owner of the heap. It may point to a special structure which contains information about the data structures implemented in this heap or the larger node and subnodes (such as the <a class="el" href="classfairport_1_1table.html">table</a>). Or, it could just point to the root BTH allocation (such as the <a class="el" href="classfairport_1_1property__bag.html">property_bag</a>). In any event, the heap itself gives no special meaning to this value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The client's root allocation </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00224">224</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0200758dfbe60ab49b2aaa4336c6ba64"></a><!-- doxytag: member="fairport::heap::open_bth" ref="a0200758dfbe60ab49b2aaa4336c6ba64" args="(heap_id root)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename V &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tr1::shared_ptr&lt;<a class="el" href="classfairport_1_1bth__node.html">bth_node</a>&lt;K,V&gt; &gt; fairport::heap::open_bth </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Opens a BTH from this heap with the given root id. </p>
<dl><dt><b>Template Parameters:</b></dt><dd>
  <table class="">
    <tr><td class="paramname">K</td><td>The key type of this BTH </td></tr>
    <tr><td class="paramname">V</td><td>The value type of this BTH </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">root</td><td>The root allocation of this BTH </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The BTH object </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00248">248</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1bc086ac19924f642c35ab655a1ff903"></a><!-- doxytag: member="fairport::heap::open_stream" ref="a1bc086ac19924f642c35ab655a1ff903" args="(heap_id id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfairport_1_1hid__stream__device.html">hid_stream_device</a> fairport::heap::open_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a stream device over a specified heap allocation. </p>
<p>The returned stream device can be used to construct a proper stream: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classfairport_1_1heap__impl.html#aedba90f0795286998430c5279f60fede">heap</a> h;
 <a class="code" href="group__ltp__heaprelated.html#gac0de1e0bd2364c6b379e14495154ef87" title="The actual heap allocation stream, defined using the boost iostream library and the hid_stream_device...">hid_stream</a> hstream(h.open_stream(0x30));
</pre></div><p> Which can then be used as any iostream would be. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The heap allocation to open a stream on </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A heap allocation stream device </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00236">236</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1052e2cb99c6361d015926b26ca80626"></a><!-- doxytag: member="fairport::heap::read" ref="a1052e2cb99c6361d015926b26ca80626" args="(std::vector&lt; byte &gt; &amp;buffer, heap_id id, ulong offset) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t fairport::heap::read </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__primitive.html#ga9c2e24b05ccdb102ad090c7c08aec439">ulong</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read data out of a specified allocation at the specified offset. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">length_error</td><td>(<a class="el" href="group__primitive.html#ga574b54dd07fdd710d51d40e0766d7782">FAIRPORT_VALIDATION_LEVEL_WEAK</a>) If the page, index, or size of the allocation are out of bounds </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>The location to store the data. The size of the buffer indicates the amount of data to read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The heap allocation to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>The offset into id to read starting at </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of bytes read </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00230">230</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b9678296518c95de21c517bf820afa1"></a><!-- doxytag: member="fairport::heap::read" ref="a3b9678296518c95de21c517bf820afa1" args="(heap_id id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="group__primitive.html#gaa303d59ad33197b84bade8b453fa7eec">byte</a>&gt; fairport::heap::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read an entire allocation. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">length_error</td><td>(<a class="el" href="group__primitive.html#ga574b54dd07fdd710d51d40e0766d7782">FAIRPORT_VALIDATION_LEVEL_WEAK</a>) If the page or index of the allocation as indicated by the id are out of bounds for this node </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The allocation to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The entire allocation </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00233">233</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<a class="anchor" id="a45c86226acf62eb79adc57888dce0b83"></a><!-- doxytag: member="fairport::heap::size" ref="a45c86226acf62eb79adc57888dce0b83" args="(heap_id id) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t fairport::heap::size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__primitive.html#gaa097fc1b2332ee98dc8bb01365de74e8">heap_id</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the size of the given allocation. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>The heap allocation to get the size of </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">length_error</td><td>(<a class="el" href="group__primitive.html#ga574b54dd07fdd710d51d40e0766d7782">FAIRPORT_VALIDATION_LEVEL_WEAK</a>) If the page or index of the allocation as indicated by the id are out of bounds for this node </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The size of the allocation </dd></dl>
 
<p>Definition at line <a class="el" href="heap_8h_source.html#l00221">221</a> of file <a class="el" href="heap_8h_source.html">heap.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>fairport/ltp/<a class="el" href="heap_8h_source.html">heap.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacefairport.html">fairport</a>      </li>
      <li class="navelem"><a class="el" href="classfairport_1_1heap.html">heap</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">Generated on Sun Jan 8 2012 00:03:04 for Fairport by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
